{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["$(document).ready(function() {\r\n  var accordion = $(\".accordion\");\r\n  var elem = new Foundation.Accordion(accordion);\r\n});\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n  var buttons = document.querySelectorAll(\".btn\");\r\n  \r\n  if(buttons) {\r\n    Array.prototype.forEach.call(buttons, function(button) {\r\n      button.addEventListener(\"click\", clickButton.bind(null, button));\r\n    });\r\n  }\r\n  \r\n});\r\n\r\nfunction clickButton(button, e) {\r\n if(button.getAttribute(\"data-btn\") == \"yes\") {\r\n   var btnNo = button.parentElement.querySelector(\".btn--no\");\r\n   if(btnNo) {\r\n     btnNo.classList.remove(\"btn--no\");\r\n   }\r\n   button.classList.add(\"btn--yes\");\r\n } else {\r\n   var btnYes = button.parentElement.querySelector(\".btn--yes\");\r\n   if(btnYes) {\r\n     btnYes.classList.remove(\"btn--yes\");\r\n   }\r\n   button.classList.add(\"btn--no\");\r\n }\r\n}\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n  var testButton = document.querySelectorAll(\".btn\");\r\n  testItemCount = document.querySelectorAll(\".test__item\").length;\r\n  if(testButton) {\r\n    Array.prototype.forEach.call(testButton, function(button) {\r\n      button.addEventListener(\"click\", chooseTest.bind(null, button));\r\n    });\r\n  }\r\n});\r\n\r\nvar testItemCount;\r\n\r\nfunction chooseTest(button, event) {\r\n  var testItem = button.parentElement.parentElement;\r\n  var nextCount = parseInt(testItem.getAttribute(\"data-test\")) + 1;\r\n  var nextAnswer = button.getAttribute(\"data-btn\");\r\n  var nextVariant = document.querySelector(\"*[data-test='\"+nextCount+\"'][data-answer='\"+nextAnswer+\"']\");\r\n  var label = testItem.querySelector(\".btn--large\");\r\n  if(nextAnswer == 'yes') {    \r\n    testItem.children[0].classList.remove(\"progress-bar--start\");\r\n    testItem.children[0].classList.remove(\"progress-bar--half-no\");\r\n    testItem.children[0].classList.add(\"progress-bar--half-yes\");\r\n    \r\n    if(label) {\r\n      label.classList.remove(\"btn--large-no\");\r\n      label.classList.add(\"btn--large-yes\");\r\n    }   \r\n    \r\n  } else {\r\n    testItem.children[0].classList.remove(\"progress-bar--start\");\r\n    testItem.children[0].classList.remove(\"progress-bar--half-yes\");\r\n    testItem.children[0].classList.add(\"progress-bar--half-no\");\r\n    \r\n    if(label) {\r\n      label.classList.remove(\"btn--large-yes\");\r\n      label.classList.add(\"btn--large-no\");      \r\n    }    \r\n    \r\n  }\r\n  \r\n  if(testItem.previousElementSibling) {\r\n    testItem.previousElementSibling.children[0].classList.remove(\"progress-bar--half-no\");\r\n    testItem.previousElementSibling.children[0].classList.remove(\"progress-bar--half-yes\");\r\n    testItem.previousElementSibling.children[0].classList.remove(\"progress-bar--no\");\r\n    testItem.previousElementSibling.children[0].classList.add(\"progress-bar--yes\");\r\n  }\r\n  \r\n  for(var i = nextCount; i <= testItemCount; i++) {\r\n    Array.prototype.forEach.call(document.querySelectorAll(\"*[data-test='\"+i+\"']\"), function(next) {\r\n    if(next) {\r\n      next.classList.add(\"test__item--hidden\");\r\n      next.children[0].classList.remove(\"progress-bar--half-no\");\r\n      next.children[0].classList.remove(\"progress-bar--half-yes\");\r\n      next.children[0].classList.remove(\"progress-bar--yes\");\r\n      next.children[0].classList.remove(\"progress-bar--no\");\r\n      next.children[0].classList.add(\"progress-bar--start\");\r\n      if(next.querySelector(\".btn--large\")) {\r\n        next.querySelector(\".btn--large\").classList.remove(\"btn--large-yes\");\r\n        next.querySelector(\".btn--large\").classList.remove(\"btn--large-no\");\r\n      }\r\n      Array.prototype.forEach.call(next.querySelectorAll(\".btn\"), function(btn) {\r\n        if(btn) {\r\n          btn.classList.remove(\"btn--yes\");\r\n          btn.classList.remove(\"btn--no\");\r\n        }\r\n      });      \r\n    }\r\n  });\r\n  \r\n  }\r\n  \r\n  if(nextVariant) {\r\n    nextVariant.classList.remove(\"test__item--hidden\");\r\n  } else {\r\n   \r\n    testItem.children[0].classList.add(\"progress-bar--start\");\r\n  }\r\n}"],"file":"main.js"}