{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["$(document).ready(function() {\n  var accordion = $(\".accordion\");\n  var elem = new Foundation.Accordion(accordion);\n});\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  var buttons = document.querySelectorAll(\".btn\");\n  \n  if(buttons) {\n    Array.prototype.forEach.call(buttons, function(button) {\n      button.addEventListener(\"click\", clickButton.bind(null, button));\n    });\n  }\n  \n});\n\nfunction clickButton(button, e) {\n if(button.getAttribute(\"data-btn\") == \"yes\") {\n   var btnNo = button.parentElement.querySelector(\".btn--no\");\n   if(btnNo) {\n     btnNo.classList.remove(\"btn--no\");\n   }\n   button.classList.add(\"btn--yes\");\n } else {\n   var btnYes = button.parentElement.querySelector(\".btn--yes\");\n   if(btnYes) {\n     btnYes.classList.remove(\"btn--yes\");\n   }\n   button.classList.add(\"btn--no\");\n }\n}\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  var testButton = document.querySelectorAll(\".btn\");\n  testItemCount = document.querySelectorAll(\".test__item\").length;\n  if(testButton) {\n    Array.prototype.forEach.call(testButton, function(button) {\n      button.addEventListener(\"click\", chooseTest.bind(null, button));\n    });\n  }\n});\n\nvar testItemCount;\n\nfunction chooseTest(button, event) {\n  var testItem = button.parentElement.parentElement;\n  var nextCount = parseInt(testItem.getAttribute(\"data-test\")) + 1;\n  var nextAnswer = button.getAttribute(\"data-btn\");\n  var nextVariant = document.querySelector(\"*[data-test='\"+nextCount+\"'][data-answer='\"+nextAnswer+\"']\");\n  var label = testItem.querySelector(\".btn--large\");\n  if(nextAnswer == 'yes') {    \n    testItem.children[0].classList.remove(\"progress-bar--start\");\n    testItem.children[0].classList.remove(\"progress-bar--half-no\");\n    testItem.children[0].classList.add(\"progress-bar--half-yes\");\n    \n    if(label) {\n      label.classList.remove(\"btn--large-no\");\n      label.classList.add(\"btn--large-yes\");\n    }   \n    \n  } else {\n    testItem.children[0].classList.remove(\"progress-bar--start\");\n    testItem.children[0].classList.remove(\"progress-bar--half-yes\");\n    testItem.children[0].classList.add(\"progress-bar--half-no\");\n    \n    if(label) {\n      label.classList.remove(\"btn--large-yes\");\n      label.classList.add(\"btn--large-no\");      \n    }    \n    \n  }\n  \n  if(testItem.previousElementSibling) {\n    testItem.previousElementSibling.children[0].classList.remove(\"progress-bar--half-no\");\n    testItem.previousElementSibling.children[0].classList.remove(\"progress-bar--half-yes\");\n    testItem.previousElementSibling.children[0].classList.remove(\"progress-bar--no\");\n    testItem.previousElementSibling.children[0].classList.add(\"progress-bar--yes\");\n  }\n  \n  for(var i = nextCount; i <= testItemCount; i++) {\n    Array.prototype.forEach.call(document.querySelectorAll(\"*[data-test='\"+i+\"']\"), function(next) {\n    if(next) {\n      next.classList.add(\"test__item--hidden\");\n      next.children[0].classList.remove(\"progress-bar--half-no\");\n      next.children[0].classList.remove(\"progress-bar--half-yes\");\n      next.children[0].classList.remove(\"progress-bar--yes\");\n      next.children[0].classList.remove(\"progress-bar--no\");\n      next.children[0].classList.add(\"progress-bar--start\");\n      if(next.querySelector(\".btn--large\")) {\n        next.querySelector(\".btn--large\").classList.remove(\"btn--large-yes\");\n        next.querySelector(\".btn--large\").classList.remove(\"btn--large-no\");\n      }\n      Array.prototype.forEach.call(next.querySelectorAll(\".btn\"), function(btn) {\n        if(btn) {\n          btn.classList.remove(\"btn--yes\");\n          btn.classList.remove(\"btn--no\");\n        }\n      });      \n    }\n  });\n  \n  }\n  \n  if(nextVariant) {\n    nextVariant.classList.remove(\"test__item--hidden\");\n  } else {\n   \n    testItem.children[0].classList.add(\"progress-bar--start\");\n  }\n}"],"file":"main.js"}